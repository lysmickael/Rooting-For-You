<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire d'Orientation - Rooting For You</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Work+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-green: #2d5f3f;
            --light-green: #6b9e78;
            --accent-gold: #d4a574;
            --earth-brown: #8b6f47;
            --cream: #f8f5f0;
            --warm-white: #fefdfb;
            --dark-text: #2a2a2a;
            --soft-gray: #707070;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Work Sans', sans-serif;
            color: var(--dark-text);
            background: #f5f5f5;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Navigation */
        nav {
            background: white;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e0e0e0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        nav .container {
            max-width: 500px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-green);
            text-decoration: none;
        }

        .logo::after {
            content: 'üå±';
            margin-left: 0.4rem;
            font-size: 1.1rem;
        }

        .nav-link {
            color: var(--soft-gray);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: var(--primary-green);
        }

        /* Container */
        .app-container {
            max-width: 500px;
            margin: 0 auto;
            padding: 0;
            min-height: calc(100vh - 60px);
        }

        /* Welcome Screen */
        .welcome-screen {
            text-align: center;
            background: white;
            border-radius: 0;
            padding: 2.5rem 1.5rem;
            animation: fadeInUp 0.6s ease-out;
            min-height: calc(100vh - 60px);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .welcome-screen h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--primary-green);
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .welcome-screen .subtitle {
            font-size: 1.1rem;
            color: var(--earth-brown);
            margin-bottom: 1.5rem;
        }

        .welcome-screen p {
            font-size: 0.95rem;
            color: var(--soft-gray);
            line-height: 1.6;
            margin-bottom: 1rem;
            max-width: 100%;
            margin-left: auto;
            margin-right: auto;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 2rem 0;
            padding: 0 0.5rem;
        }

        .feature {
            text-align: center;
            background: var(--cream);
            padding: 1.2rem 0.5rem;
            border-radius: 12px;
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .feature h3 {
            font-size: 0.85rem;
            color: var(--primary-green);
            margin-bottom: 0.3rem;
            font-weight: 600;
        }

        .feature p {
            font-size: 0.75rem;
            color: var(--soft-gray);
            margin: 0;
        }

        /* Buttons */
        .btn {
            padding: 1rem 2rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.2s ease;
            display: inline-block;
            border: none;
            cursor: pointer;
            font-family: 'Work Sans', sans-serif;
            width: 100%;
            max-width: 100%;
        }

        .btn-primary {
            background: var(--primary-green);
            color: white;
            box-shadow: 0 4px 12px rgba(45, 95, 63, 0.25);
        }

        .btn-primary:active {
            transform: scale(0.98);
        }

        /* Quiz Container */
        .quiz-container {
            display: none;
            animation: fadeInUp 0.4s ease-out;
            background: #f5f5f5;
            min-height: calc(100vh - 60px);
        }

        .quiz-container.active {
            display: block;
        }

        /* Question Card */
        .question-card {
            background: #f5f5f5;
            border-radius: 0;
            padding: 2rem 1.5rem 5rem;
            margin-bottom: 0;
            min-height: calc(100vh - 60px);
            display: flex;
            flex-direction: column;
        }

        .question-header {
            text-align: center;
            margin-bottom: 2rem;
            flex-shrink: 0;
            padding-top: 2rem;
        }

        .question-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            color: var(--primary-green);
            line-height: 1.3;
            font-weight: 600;
        }

        /* Choices */
        .choices-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            flex: 1;
            align-content: center;
            justify-content: center;
            position: relative;
        }

        .choice-card {
            background: #fafafa;
            border: 3px solid #d0d0d0;
            border-radius: 20px;
            padding: 2.5rem 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-height: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .choice-card:hover {
            border-color: var(--light-green);
            box-shadow: 0 4px 15px rgba(107, 158, 120, 0.2);
            transform: translateY(-2px);
        }

        .choice-card:active {
            transform: scale(0.98);
        }

        .choice-card.selected {
            border-color: var(--primary-green);
            background: rgba(45, 95, 63, 0.04);
            box-shadow: 0 4px 20px rgba(45, 95, 63, 0.15);
        }

        .choice-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 1rem;
            position: relative;
            z-index: 1;
            width: 100%;
        }

        .choice-icon {
            font-size: 3.5rem;
            flex-shrink: 0;
        }

        .choice-text {
            width: 100%;
        }

        .choice-text h3 {
            font-size: 1.6rem;
            color: var(--primary-green);
            margin-bottom: 0;
            font-weight: 700;
        }

        /* Skip button between choices */
        .skip-between {
            text-align: center;
            margin: 1rem 0;
        }

        .btn-skip-inline {
            background: white;
            color: var(--soft-gray);
            border: 2px solid #d0d0d0;
            padding: 0.7rem 2.5rem;
            border-radius: 25px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
        }

        .btn-skip-inline:hover {
            background: #f5f5f5;
            border-color: var(--soft-gray);
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.12);
        }

        .btn-skip-inline:active {
            transform: translateY(0);
        }

        /* Floating Results Button */
        .btn-show-results {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary-green);
            color: white;
            padding: 1.2rem 2.5rem;
            border-radius: 30px;
            font-size: 1.05rem;
            font-weight: 700;
            box-shadow: 0 6px 25px rgba(45, 95, 63, 0.4);
            z-index: 100;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            max-width: 500px;
        }

        .btn-show-results:hover {
            background: var(--light-green);
            transform: translateX(-50%) translateY(-3px);
            box-shadow: 0 8px 30px rgba(45, 95, 63, 0.5);
        }

        .btn-show-results:active {
            transform: translateX(-50%) translateY(-1px);
        }

        /* Results Screen */
        .results-screen {
            display: none;
            animation: fadeInUp 0.4s ease-out;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 9999;
            overflow-y: auto;
            padding: 1rem;
        }

        .results-screen.active {
            display: flex;
            flex-direction: column;
        }

        .results-wrapper {
            background: #f5f5f5;
            border-radius: 24px;
            max-width: 600px;
            width: 100%;
            margin: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .results-header {
            text-align: center;
            background: white;
            border-radius: 24px 24px 0 0;
            padding: 2.5rem 1.5rem 2rem;
            margin-bottom: 0;
            border-bottom: 1px solid #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .close-results {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 2.5rem;
            color: var(--soft-gray);
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .close-results:hover {
            background: var(--cream);
            color: var(--primary-green);
        }

        .results-header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--primary-green);
            margin-bottom: 0.8rem;
        }

        .results-header p {
            font-size: 1rem;
            color: var(--soft-gray);
        }

        .results-grid {
            display: grid;
            gap: 0;
            padding: 1.5rem;
            background: #f5f5f5;
        }

        .result-card {
            background: #fafafa;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-left: 6px solid var(--accent-gold);
            transition: all 0.3s ease;
            animation: fadeInUp 0.4s ease-out both;
            margin-bottom: 1.5rem;
        }

        .result-card:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        .result-card:nth-child(1) { animation-delay: 0.1s; border-left-color: var(--primary-green); }
        .result-card:nth-child(2) { animation-delay: 0.2s; border-left-color: var(--light-green); }
        .result-card:nth-child(3) { animation-delay: 0.3s; border-left-color: var(--accent-gold); }

        .result-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .result-rank {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-green);
            width: 50px;
            height: 50px;
            background: var(--cream);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .result-title h2 {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            color: var(--primary-green);
            margin-bottom: 0.2rem;
        }

        .result-match {
            color: var(--light-green);
            font-weight: 600;
            font-size: 0.85rem;
        }

        .result-description {
            color: var(--soft-gray);
            line-height: 1.6;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .result-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
            margin-bottom: 1rem;
        }

        .tag {
            background: var(--cream);
            color: var(--primary-green);
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .result-actions-buttons {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
        }

        .btn-result-action {
            background: var(--primary-green);
            color: white;
            border: 2px solid var(--primary-green);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 140px;
            box-shadow: 0 2px 8px rgba(45, 95, 63, 0.2);
        }

        .btn-result-action:hover {
            background: var(--light-green);
            border-color: var(--light-green);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(45, 95, 63, 0.3);
        }

        .btn-result-action:active {
            transform: translateY(0);
        }

        .btn-activities {
            position: fixed;
            bottom: 90px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary-green);
            color: white;
            padding: 1.2rem 2.5rem;
            border-radius: 30px;
            font-size: 1.05rem;
            font-weight: 700;
            box-shadow: 0 6px 25px rgba(45, 95, 63, 0.4);
            z-index: 100;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-activities:hover {
            background: var(--light-green);
            transform: translateX(-50%) translateY(-3px);
            box-shadow: 0 8px 30px rgba(45, 95, 63, 0.5);
        }

        .btn-activities:active {
            transform: translateX(-50%) translateY(-1px);
        }

        /* Modal for activities and paths */
        .info-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 1rem;
            animation: fadeIn 0.3s ease-out;
        }

        .info-modal.active {
            display: flex;
        }

        .info-modal-content {
            background: white;
            border-radius: 24px;
            padding: 2.5rem;
            max-width: 600px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideUp 0.4s ease-out;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .info-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--cream);
        }

        .info-modal-header h2 {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--primary-green);
            margin: 0;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 2rem;
            color: var(--soft-gray);
            cursor: pointer;
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .close-modal:hover {
            background: var(--cream);
            color: var(--primary-green);
        }

        .activities-list {
            list-style: none;
            padding: 0;
        }

        .activities-list li {
            padding: 1rem;
            margin-bottom: 0.8rem;
            background: var(--cream);
            border-radius: 12px;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .activities-list li::before {
            content: '‚úì';
            color: var(--primary-green);
            font-weight: bold;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .path-section {
            margin-bottom: 1.5rem;
            padding: 1.2rem;
            background: var(--cream);
            border-radius: 12px;
            border-left: 4px solid var(--primary-green);
        }

        .path-section h3 {
            color: var(--primary-green);
            font-size: 1.1rem;
            margin-bottom: 0.8rem;
            font-weight: 600;
        }

        .path-section p {
            color: var(--dark-text);
            line-height: 1.6;
            margin: 0;
        }

        .all-activities-section {
            margin-bottom: 2rem;
        }

        .all-activities-section h3 {
            font-family: 'Playfair Display', serif;
            color: var(--primary-green);
            font-size: 1.4rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--cream);
        }

        @media (max-width: 500px) {
            .info-modal-content {
                padding: 2rem 1.5rem;
                max-height: 90vh;
            }

            .info-modal-header h2 {
                font-size: 1.4rem;
            }
        }

        .results-actions {
            text-align: center;
            margin-top: 0;
            padding: 2rem 1.5rem;
            background: white;
            border-radius: 0 0 24px 24px;
            border-top: 1px solid #e0e0e0;
        }

        .results-actions h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--primary-green);
            margin-bottom: 0.8rem;
        }

        .results-actions p {
            color: var(--soft-gray);
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        .action-buttons {
            display: flex;
            gap: 0.8rem;
            flex-direction: column;
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary-green);
            border: 2px solid var(--primary-green);
        }

        .btn-secondary:active {
            background: var(--cream);
        }

        /* Responsive */
        @media (max-width: 500px) {
            .features {
                grid-template-columns: 1fr;
            }

            .feature {
                padding: 1rem;
            }

            .choice-icon {
                font-size: 2rem;
            }

            /* Navigation mobile */
            nav {
                padding: 0.8rem 1rem;
            }

            .logo {
                font-size: 1.3rem;
            }

            .nav-link {
                font-size: 0.85rem;
            }

            /* Welcome screen mobile */
            .welcome-screen {
                padding: 2rem 1rem;
            }

            .welcome-screen h1 {
                font-size: 2rem;
                line-height: 1.3;
            }

            .welcome-screen .subtitle {
                font-size: 1.1rem;
            }

            .welcome-screen p {
                font-size: 0.95rem;
            }

            .feature-icon {
                font-size: 2rem;
            }

            .feature h3 {
                font-size: 1.2rem;
            }

            .feature p {
                font-size: 0.9rem;
            }

            /* Question card mobile */
            .question-card {
                padding: 1.5rem 1rem;
            }

            .question-text {
                font-size: 1.3rem;
            }

            .choices-container {
                gap: 1rem;
            }

            .choice-card {
                padding: 1.5rem;
                min-height: 140px;
            }

            .choice-text h3 {
                font-size: 1.4rem;
            }

            .skip-btn {
                padding: 0.8rem 1.5rem;
                font-size: 0.9rem;
            }

            /* Floating buttons mobile */
            .btn-show-results {
                bottom: 15px;
                padding: 1rem 1.5rem;
                font-size: 0.95rem;
                left: 1rem;
                right: 1rem;
                transform: none;
                max-width: none;
            }

            .btn-activities {
                bottom: 80px;
                left: 1rem;
                right: 1rem;
                transform: none;
                padding: 1rem 1.5rem;
                font-size: 0.95rem;
            }

            /* Results screen mobile */
            .results-wrapper {
                margin: 0;
                border-radius: 0;
                max-height: 100vh;
            }

            .results-header h1 {
                font-size: 1.8rem;
            }

            .results-header p {
                font-size: 0.9rem;
            }

            .results-grid {
                padding: 1rem;
                gap: 1rem;
            }

            .result-card {
                padding: 1.5rem 1rem;
            }

            .result-header h2 {
                font-size: 1.3rem;
            }

            .result-score {
                font-size: 2rem;
            }

            .result-buttons {
                flex-direction: column;
                gap: 0.8rem;
            }

            .result-btn {
                width: 100%;
            }

            /* Action buttons mobile */
            .results-actions {
                padding: 1.5rem 1rem;
            }

            .results-actions h3 {
                font-size: 1.3rem;
            }

            .action-buttons .btn {
                padding: 1rem;
                font-size: 0.95rem;
            }

            /* Modal info mobile */
            .info-modal-content {
                margin: 1rem;
                max-height: 85vh;
            }

            .info-modal-header h2 {
                font-size: 1.3rem;
            }

            .activity-item, .path-item {
                padding: 1rem;
            }
        }

        /* Ajustements pour tr√®s petits √©crans */
        @media (max-width: 360px) {
            .welcome-screen h1 {
                font-size: 1.7rem;
            }

            .choice-icon {
                font-size: 1.8rem;
            }

            .choice-card {
                min-height: 120px;
                padding: 1.2rem;
            }

            .btn-show-results,
            .btn-activities {
                padding: 0.9rem 1.2rem;
                font-size: 0.9rem;
            }
        }
        

        /* Country Selection Modal */
        .country-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 1rem;
            animation: fadeIn 0.3s ease-out;
        }

        .country-modal.hidden {
            display: none;
        }

        .country-modal-content {
            background: white;
            border-radius: 24px;
            padding: 3rem 2.5rem;
            max-width: 500px;
            width: 100%;
            text-align: center;
            animation: slideUp 0.4s ease-out;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .country-modal h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--primary-green);
            margin-bottom: 1rem;
        }

        .country-modal p {
            color: var(--soft-gray);
            margin-bottom: 2rem;
            font-size: 1.05rem;
        }

        .country-select {
            width: 100%;
            padding: 1rem 1.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            font-family: 'Work Sans', sans-serif;
            color: var(--dark-text);
            margin-bottom: 1.5rem;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }

        .country-select:focus {
            outline: none;
            border-color: var(--primary-green);
        }

        .country-select option {
            padding: 1rem;
        }

        @media (max-width: 500px) {
            .country-modal-content {
                padding: 2rem 1.5rem;
            }

            .country-modal h2 {
                font-size: 1.6rem;
            }
        }

        /* Loading Animation */
        .loading {
            text-align: center;
            padding: 3rem;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--cream);
            border-top-color: var(--primary-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1.5rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* AdSense Sidebar (Desktop only) */
        .ad-sidebar {
            position: fixed;
            right: 20px;
            top: 100px;
            width: 160px;
            display: none;
            z-index: 50;
        }

        @media (min-width: 1200px) {
            .ad-sidebar {
                display: block;
            }
            
            .quiz-container {
                margin-right: 200px;
            }
        }

        .ad-container {
            background: #fafafa;
            padding: 0.5rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .ad-label {
            font-size: 0.65rem;
            color: #999;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
    </style>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7955446846545566" crossorigin="anonymous"></script>
</head>
<body>
    <!-- Info Modal (Activities / Path) -->
    <div id="infoModal" class="info-modal">
        <div class="info-modal-content">
            <div class="info-modal-header">
                <h2 id="modalTitle"></h2>
                <button class="close-modal" onclick="closeInfoModal()">√ó</button>
            </div>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- Country Selection Modal -->
    <div id="countryModal" class="country-modal">
        <div class="country-modal-content">
            <h2>üåç Bienvenue !</h2>
            <p>S√©lectionnez votre pays pour une exp√©rience personnalis√©e</p>
            <select id="countrySelect" class="country-select">
                <option value="">-- Choisissez votre pays --</option>
                <option value="FR">üá´üá∑ France</option>
                <option value="BE">üáßüá™ Belgique</option>
                <option value="CH">üá®üá≠ Suisse</option>
                <option value="CA">üá®üá¶ Canada</option>
                <option value="LU">üá±üá∫ Luxembourg</option>
                <option value="MA">üá≤üá¶ Maroc</option>
                <option value="SN">üá∏üá≥ S√©n√©gal</option>
                <option value="CI">üá®üáÆ C√¥te d'Ivoire</option>
                <option value="TN">üáπüá≥ Tunisie</option>
                <option value="DZ">üá©üáø Alg√©rie</option>
                <option value="OTHER">üåê Autre</option>
            </select>
            <button class="btn btn-primary" onclick="saveCountry()" id="countryBtn" disabled>Continuer</button>
        </div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="container">
            <a href="/" class="logo">Rooting For You</a>
            <a href="/" class="nav-link">‚Üê Retour √† l'accueil</a>
        </div>
    </nav>

    <!-- AdSense Sidebar (Desktop only) -->
    <div class="ad-sidebar">
        <div class="ad-container">
            <p class="ad-label">Publicit√©</p>
            <ins class="adsbygoogle"
                 style="display:inline-block;width:160px;height:600px"
                 data-ad-client="ca-pub-7955446846545566"
                 data-ad-slot="1111111111"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </div>

    <div class="app-container">
        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="welcome-screen">
            <h1>D√©couvrez votre voie professionnelle</h1>
            <p class="subtitle">Un questionnaire √©volutif qui grandit avec vous</p>
            
            <p>R√©pondez √† des questions en choisissant entre deux options. Vos pr√©f√©rences s'affinent avec le temps, et vos r√©sultats s'actualisent automatiquement pour refl√©ter votre √©volution.</p>

            <div class="features">
                <div class="feature">
                    <span class="feature-icon">üéØ</span>
                    <h3>R√©sultats personnalis√©s</h3>
                    <p>Top 3 des m√©tiers adapt√©s</p>
                </div>
                <div class="feature">
                    <span class="feature-icon">üîÑ</span>
                    <h3>√âvolutif</h3>
                    <p>S'adapte √† vos changements</p>
                </div>
                <div class="feature">
                    <span class="feature-icon">‚ú®</span>
                    <h3>Gratuit</h3>
                    <p>Sans engagement</p>
                </div>
            </div>

            <button class="btn btn-primary" onclick="startQuiz()">Commencer le questionnaire</button>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="quiz-container">
            <!-- AdSense Pub Top (Banner horizontal) -->
            <div style="text-align: center; margin: 1rem auto 2rem; max-width: 500px; padding: 0 1rem;">
                <p style="font-size: 0.7rem; color: #999; margin-bottom: 0.5rem;">Publicit√©</p>
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-7955446846545566"
                     data-ad-slot="1234567890"
                     data-ad-format="horizontal"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>

            <!-- Question Card -->
            <div class="question-card">
                <div class="question-header">
                    <h2 class="question-text" id="questionText">Chargement...</h2>
                </div>

                <div class="choices-container" id="choicesContainer">
                    <!-- Choices will be inserted here -->
                </div>
            </div>

            <!-- Floating Results Button -->
            <button class="btn-show-results" onclick="showResults()">üìã Activit√©s correspondantes</button>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="results-screen">
            <div class="results-wrapper">
                <div class="results-header">
                    <button class="close-results" onclick="closeResults()">√ó</button>
                    <h1>üéâ Vos r√©sultats actuels</h1>
                    <p>Bas√©s sur vos choix jusqu'√† pr√©sent</p>
                </div>

                <div class="results-grid" id="resultsContainer">
                    <!-- Results will be inserted here -->
                </div>

                <!-- AdSense Pub in Results -->
                <div style="text-align: center; margin: 2rem auto; max-width: 500px; padding: 0 1rem;">
                    <p style="font-size: 0.7rem; color: #999; margin-bottom: 0.5rem;">Publicit√©</p>
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-7955446846545566"
                         data-ad-slot="9876543210"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

                <div class="results-actions">
                    <h3>Continuez √† explorer !</h3>
                    <p>R√©pondez √† plus de questions pour affiner vos r√©sultats</p>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="closeResults()">Continuer le questionnaire</button>
                        <a href="nous-soutenir.html" class="btn btn-primary">üíö Nous soutenir</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Questions database - objets OU verbes d'action uniquement
        const questions = [
            {
                question: "Choisissez :",
                choices: [
                    { icon: "‚å®Ô∏è", title: "Clavier", description: "", careers: ["dev", "data", "designer"] },
                    { icon: "üìû", title: "T√©l√©phone", description: "", careers: ["commerce", "rh"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üé®", title: "Cr√©er", description: "", careers: ["designer", "architecte", "marketing"] },
                    { icon: "üìä", title: "Analyser", description: "", careers: ["data", "consultant", "finance"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üöó", title: "Voiture", description: "", careers: ["commerce", "consultant", "architecte"] },
                    { icon: "ü™ë", title: "Bureau", description: "", careers: ["dev", "data", "finance"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üé§", title: "Pr√©senter", description: "", careers: ["enseignement", "commerce", "marketing"] },
                    { icon: "üìù", title: "√âcrire", description: "", careers: ["recherche", "consultant", "data"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üë•", title: "√âquipe", description: "", careers: ["manager", "rh", "consultant"] },
                    { icon: "üéß", title: "Casque", description: "", careers: ["dev", "data", "designer"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üí°", title: "Innover", description: "", careers: ["designer", "marketing", "dev"] },
                    { icon: "üìê", title: "R√®gle", description: "", careers: ["architecte", "finance", "data"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üè•", title: "H√¥pital", description: "", careers: ["sante", "recherche"] },
                    { icon: "üè¢", title: "Gratte-ciel", description: "", careers: ["manager", "finance", "commerce"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üì±", title: "Smartphone", description: "", careers: ["dev", "designer", "marketing"] },
                    { icon: "üìÑ", title: "Documents", description: "", careers: ["consultant", "finance", "rh"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üéØ", title: "Vendre", description: "", careers: ["commerce", "manager", "consultant"] },
                    { icon: "üß©", title: "R√©soudre", description: "", careers: ["dev", "data", "recherche"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üåç", title: "Plan√®te", description: "", careers: ["environnement", "sante", "enseignement"] },
                    { icon: "üí∞", title: "Argent", description: "", careers: ["finance", "commerce", "consultant"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üëî", title: "Diriger", description: "", careers: ["manager", "consultant", "finance"] },
                    { icon: "üî¨", title: "Microscope", description: "", careers: ["recherche", "data", "sante"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "‚úèÔ∏è", title: "Dessiner", description: "", careers: ["designer", "architecte"] },
                    { icon: "üßÆ", title: "Calculer", description: "", careers: ["finance", "data", "consultant"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üéì", title: "Enseigner", description: "", careers: ["enseignement", "rh", "consultant"] },
                    { icon: "üíª", title: "Programmer", description: "", careers: ["dev", "data", "designer"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "ü§ù", title: "N√©gocier", description: "", careers: ["commerce", "rh", "manager"] },
                    { icon: "üìä", title: "Tableaux", description: "", careers: ["data", "consultant", "finance"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üé¨", title: "Cam√©ra", description: "", careers: ["marketing", "designer"] },
                    { icon: "üìã", title: "Organiser", description: "", careers: ["manager", "rh", "consultant"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üå≥", title: "Nature", description: "", careers: ["environnement", "architecte"] },
                    { icon: "üèôÔ∏è", title: "Ville", description: "", careers: ["architecte", "manager", "consultant"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üé®", title: "Palette", description: "", careers: ["designer", "marketing"] },
                    { icon: "üìà", title: "Graphiques", description: "", careers: ["finance", "data", "manager"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üîß", title: "R√©parer", description: "", careers: ["dev", "consultant"] },
                    { icon: "üó£Ô∏è", title: "Convaincre", description: "", careers: ["commerce", "marketing", "manager"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üìö", title: "Livres", description: "", careers: ["recherche", "enseignement", "consultant"] },
                    { icon: "‚ö°", title: "Rapidit√©", description: "", careers: ["commerce", "marketing", "dev"] }
                ]
            },
            {
                question: "Choisissez :",
                choices: [
                    { icon: "üèóÔ∏è", title: "Construire", description: "", careers: ["architecte", "manager", "dev"] },
                    { icon: "üí¨", title: "Discuter", description: "", careers: ["rh", "commerce", "enseignement"] }
                ]
            }
        ];

        // Career profiles database
        const careers = {
            dev: {
                title: "D√©veloppeur / D√©veloppeuse",
                description: "Vous aimez cr√©er, r√©soudre des probl√®mes techniques et travailler avec les technologies. Le d√©veloppement logiciel vous permet de concevoir des solutions innovantes et de voir vos cr√©ations prendre vie.",
                tags: ["Tech", "Cr√©ation", "Logique", "Innovation"],
                activities: [
                    "√âcrire du code informatique",
                    "Cr√©er des applications web ou mobile",
                    "R√©soudre des bugs et optimiser le code",
                    "Travailler en √©quipe avec d'autres d√©veloppeurs",
                    "Concevoir l'architecture de logiciels",
                    "Tester et d√©boguer des programmes"
                ]
            },
            data: {
                title: "Data Analyst / Scientist",
                description: "Votre esprit analytique et votre passion pour les chiffres font de vous un excellent candidat pour l'analyse de donn√©es. Transformer les donn√©es en insights strat√©giques vous passionne.",
                tags: ["Analyse", "Statistiques", "Strat√©gie", "Tech"],
                activities: [
                    "Analyser de grandes quantit√©s de donn√©es",
                    "Cr√©er des tableaux de bord et visualisations",
                    "Identifier des tendances et patterns",
                    "Pr√©senter des insights aux √©quipes",
                    "Utiliser Python, R ou SQL",
                    "Construire des mod√®les pr√©dictifs"
                ]
            },
            designer: {
                title: "Designer UX/UI",
                description: "Votre cr√©ativit√© et votre sens de l'esth√©tique combin√©s √† une approche centr√©e utilisateur font de vous un designer naturel. Vous cr√©ez des exp√©riences visuelles m√©morables.",
                tags: ["Cr√©ativit√©", "Design", "User-centric", "Visuel"],
                activities: [
                    "Concevoir des interfaces utilisateur",
                    "Cr√©er des maquettes et prototypes",
                    "R√©aliser des tests utilisateurs",
                    "D√©finir l'identit√© visuelle",
                    "Utiliser Figma, Adobe XD",
                    "Collaborer avec les d√©veloppeurs"
                ]
            },
            manager: {
                title: "Manager / Chef de projet",
                description: "Votre leadership naturel et votre capacit√© √† coordonner des √©quipes vers un objectif commun font de vous un excellent manager. Vous savez tirer le meilleur de chacun.",
                tags: ["Leadership", "Organisation", "√âquipe", "Strat√©gie"],
                activities: [
                    "Diriger et motiver une √©quipe",
                    "Planifier et coordonner les projets",
                    "Prendre des d√©cisions strat√©giques",
                    "G√©rer les budgets et ressources",
                    "Animer des r√©unions d'√©quipe",
                    "√âvaluer les performances"
                ]
            },
            rh: {
                title: "Responsable RH / Recrutement",
                description: "Votre empathie et votre int√©r√™t pour le d√©veloppement des talents font de vous un professionnel RH id√©al. Vous aidez les personnes √† s'√©panouir dans leur carri√®re.",
                tags: ["Humain", "Recrutement", "D√©veloppement", "√âcoute"],
                activities: [
                    "Recruter et s√©lectionner des candidats",
                    "Mener des entretiens d'embauche",
                    "G√©rer les relations employ√©s",
                    "D√©velopper les comp√©tences internes",
                    "Organiser des formations",
                    "R√©soudre des conflits"
                ]
            },
            consultant: {
                title: "Consultant / Consultante",
                description: "Votre capacit√© d'analyse, votre adaptabilit√© et votre expertise font de vous un consultant recherch√©. Vous aidez les organisations √† r√©soudre leurs d√©fis strat√©giques.",
                tags: ["Conseil", "Strat√©gie", "Expertise", "Business"],
                activities: [
                    "Analyser les probl√©matiques clients",
                    "Proposer des solutions strat√©giques",
                    "R√©aliser des audits et diagnostics",
                    "Pr√©senter des recommandations",
                    "Accompagner le changement",
                    "R√©diger des rapports d'expertise"
                ]
            },
            commerce: {
                title: "Commercial / Commerciale",
                description: "Votre aisance relationnelle et votre go√ªt du challenge font de vous un commercial performant. Convaincre et cr√©er de la valeur pour vos clients vous stimule.",
                tags: ["Relation client", "N√©gociation", "Vente", "Dynamisme"],
                activities: [
                    "Prospecter de nouveaux clients",
                    "N√©gocier des contrats",
                    "Pr√©senter des produits/services",
                    "Fid√©liser la client√®le",
                    "Atteindre des objectifs de vente",
                    "G√©rer un portefeuille clients"
                ]
            },
            marketing: {
                title: "Responsable Marketing",
                description: "Votre cr√©ativit√© strat√©gique et votre compr√©hension du march√© font de vous un excellent marketeur. Cr√©er des campagnes impactantes est votre force.",
                tags: ["Communication", "Cr√©ativit√©", "Strat√©gie", "Digital"],
                activities: [
                    "√âlaborer des strat√©gies marketing",
                    "Cr√©er des campagnes publicitaires",
                    "G√©rer les r√©seaux sociaux",
                    "Analyser les tendances du march√©",
                    "Organiser des √©v√©nements",
                    "Mesurer le ROI des actions"
                ]
            },
            architecte: {
                title: "Architecte",
                description: "Votre vision spatiale et votre cr√©ativit√© technique font de vous un architecte talentueux. Concevoir des espaces qui allient esth√©tique et fonctionnalit√© vous passionne.",
                tags: ["Design", "Technique", "Cr√©ativit√©", "Spatial"],
                activities: [
                    "Concevoir des plans de b√¢timents",
                    "Rencontrer les clients",
                    "Superviser les chantiers",
                    "Cr√©er des maquettes 3D",
                    "Respecter les normes",
                    "Coordonner les corps de m√©tier"
                ]
            },
            sante: {
                title: "Professionnel de sant√©",
                description: "Votre empathie et votre d√©sir d'aider les autres font de vous un excellent professionnel de sant√©. Prendre soin et am√©liorer la vie des patients est votre vocation.",
                tags: ["Soin", "Empathie", "Sant√©", "Impact social"],
                activities: [
                    "Soigner et accompagner les patients",
                    "√âtablir des diagnostics",
                    "Prescrire des traitements",
                    "√âcouter et rassurer",
                    "Travailler en √©quipe m√©dicale",
                    "Se former continuellement"
                ]
            },
            enseignement: {
                title: "Enseignant / Formateur",
                description: "Votre passion pour la transmission et votre p√©dagogie font de vous un enseignant inspirant. Voir vos √©l√®ves progresser est votre plus grande r√©compense.",
                tags: ["P√©dagogie", "Transmission", "Patience", "Impact"],
                activities: [
                    "Pr√©parer des cours et supports",
                    "Enseigner devant une classe",
                    "√âvaluer les √©l√®ves",
                    "Adapter sa p√©dagogie",
                    "G√©rer la dynamique de groupe",
                    "Suivre la progression individuelle"
                ]
            },
            finance: {
                title: "Analyste Financier",
                description: "Votre rigueur analytique et votre compr√©hension des march√©s font de vous un expert financier. Les chiffres et la strat√©gie financi√®re n'ont pas de secrets pour vous.",
                tags: ["Finance", "Analyse", "Strat√©gie", "Rigueur"],
                activities: [
                    "Analyser les march√©s financiers",
                    "√âlaborer des pr√©visions budg√©taires",
                    "Conseiller sur les investissements",
                    "Cr√©er des reportings financiers",
                    "G√©rer les risques",
                    "Optimiser la rentabilit√©"
                ]
            },
            environnement: {
                title: "Expert Environnement",
                description: "Votre engagement √©cologique et votre expertise technique font de vous un acteur cl√© de la transition environnementale. Prot√©ger la plan√®te est votre mission.",
                tags: ["√âcologie", "Durabilit√©", "Impact", "Terrain"],
                activities: [
                    "R√©aliser des √©tudes d'impact",
                    "Conseiller sur l'√©cologie",
                    "Mesurer les √©missions",
                    "Proposer des solutions durables",
                    "Sensibiliser aux enjeux",
                    "Travailler sur le terrain"
                ]
            },
            recherche: {
                title: "Chercheur / Chercheuse",
                description: "Votre curiosit√© intellectuelle et votre rigueur scientifique font de vous un chercheur passionn√©. Repousser les fronti√®res de la connaissance vous anime.",
                tags: ["Science", "Recherche", "Innovation", "Analyse"],
                activities: [
                    "Mener des exp√©riences scientifiques",
                    "Publier des articles de recherche",
                    "Analyser des r√©sultats",
                    "Pr√©senter lors de conf√©rences",
                    "Collaborer avec d'autres chercheurs",
                    "Demander des financements"
                ]
            }
        };

        // Educational paths by country and career
        const educationalPaths = {
            FR: {
                dev: {
                    college: "Au coll√®ge : S'int√©resser aux math√©matiques et √† la technologie. Rejoindre des clubs de programmation si disponibles.",
                    lycee: "Au lyc√©e : Bac g√©n√©ral avec sp√©cialit√©s Math√©matiques et NSI (Num√©rique et Sciences Informatiques) OU Bac STI2D option SIN.",
                    postbac: "Apr√®s le bac : BTS SIO, DUT/BUT Informatique (3 ans), √âcole d'ing√©nieur (5 ans), ou Licence Informatique puis Master.",
                    formations: "Formations compl√©mentaires : Bootcamps (Le Wagon, Wild Code School), certifications (AWS, Azure), auto-formation"
                },
                data: {
                    college: "Au coll√®ge : D√©velopper ses comp√©tences en math√©matiques et logique.",
                    lycee: "Au lyc√©e : Bac g√©n√©ral avec sp√©cialit√©s Math√©matiques et NSI ou Math√©matiques et Physique-Chimie.",
                    postbac: "Apr√®s le bac : BUT Science des donn√©es, √âcole d'ing√©nieur sp√©. data, Master Big Data, ou Licence Maths/Info puis Master Data Science.",
                    formations: "Formations compl√©mentaires : Certifications (Google Data Analytics, IBM Data Science), bootcamps sp√©cialis√©s"
                },
                manager: {
                    college: "Au coll√®ge : Participer aux d√©l√©gu√©s de classe, clubs, projets d'√©quipe.",
                    lycee: "Au lyc√©e : Tous bacs accept√©s. Privil√©gier les options de sciences √©conomiques et sociales.",
                    postbac: "Apr√®s le bac : √âcole de commerce (3-5 ans), IAE, Licence √âco-Gestion puis Master Management, ou BUT GEA.",
                    formations: "Formations compl√©mentaires : MBA, formations en leadership, certifications en gestion de projet (PMP, Prince2)"
                }
            },
            BE: {
                dev: {
                    college: "Durant le secondaire inf√©rieur : S'int√©resser aux maths et sciences. Participer aux activit√©s informatiques.",
                    lycee: "Enseignement secondaire sup√©rieur : Option sciences ou technique de transition/qualification informatique.",
                    postbac: "Enseignement sup√©rieur : Bachelier en Informatique (Haute √âcole, 3 ans) ou Master universitaire (5 ans).",
                    formations: "Formations compl√©mentaires : BeCode, certifications professionnelles, formation continue"
                },
                data: {
                    college: "Durant le secondaire inf√©rieur : Focus sur les math√©matiques et sciences.",
                    lycee: "Enseignement secondaire sup√©rieur : Option sciences ou math√©matiques fortes.",
                    postbac: "Enseignement sup√©rieur : Bachelier puis Master en Data Science, Statistiques ou Informatique.",
                    formations: "Formations compl√©mentaires : Certifications internationales, formations continues sp√©cialis√©es"
                },
                manager: {
                    college: "Durant le secondaire inf√©rieur : D√©velopper l'esprit d'√©quipe et le leadership.",
                    lycee: "Enseignement secondaire sup√©rieur : Toutes options, privil√©gier sciences √©conomiques.",
                    postbac: "Enseignement sup√©rieur : Bachelier en Gestion/Commerce puis Master, ou √âcole de commerce.",
                    formations: "Formations compl√©mentaires : MBA, Executive Education, certifications en management"
                }
            },
            CA: {
                dev: {
                    college: "Au secondaire : Participer aux cours de math√©matiques et sciences. S'initier √† la programmation.",
                    lycee: "C√©gep : DEC en Sciences informatiques et math√©matiques ou Techniques de l'informatique.",
                    postbac: "Universit√© : BAC en Informatique/G√©nie logiciel (3-4 ans), puis √©ventuellement Ma√Ætrise.",
                    formations: "Formations compl√©mentaires : Bootcamps, certifications tech, programmes d'alternance"
                },
                data: {
                    college: "Au secondaire : Excellence en math√©matiques et sciences.",
                    lycee: "C√©gep : DEC en Sciences de la nature ou Sciences informatiques et math√©matiques.",
                    postbac: "Universit√© : BAC en Statistiques, Math√©matiques appliqu√©es ou Informatique, puis Ma√Ætrise en Data Science.",
                    formations: "Formations compl√©mentaires : Programmes de certificat, bootcamps data, MOOCs"
                },
                manager: {
                    college: "Au secondaire : S'impliquer dans des activit√©s parascolaires, d√©velopper le leadership.",
                    lycee: "C√©gep : DEC en Sciences humaines profil Administration.",
                    postbac: "Universit√© : BAC en Administration/Gestion (HEC, universit√©s), puis MBA optionnel.",
                    formations: "Formations compl√©mentaires : MBA, programmes executives, certifications PMP"
                }
            },
            CH: {
                dev: {
                    college: "√âcole obligatoire : S'int√©resser aux math√©matiques et √† l'informatique.",
                    lycee: "Post-obligatoire : Gymnase/Coll√®ge (Maturit√© gymnasiale option scientifique) OU CFC informaticien + Maturit√© professionnelle.",
                    postbac: "Hautes √âcoles : Bachelor en Informatique (HES ou Universit√©, 3 ans), puis Master (2 ans).",
                    formations: "Formations compl√©mentaires : Formation continue ES, certifications professionnelles, bootcamps"
                },
                data: {
                    college: "√âcole obligatoire : Excellence en math√©matiques.",
                    lycee: "Post-obligatoire : Maturit√© gymnasiale option maths-physique OU Maturit√© professionnelle technique.",
                    postbac: "Hautes √âcoles : Bachelor puis Master en Data Science, Statistiques ou Math√©matiques appliqu√©es.",
                    formations: "Formations compl√©mentaires : CAS/DAS/MAS en Data Science, certifications internationales"
                },
                manager: {
                    college: "√âcole obligatoire : D√©velopper les comp√©tences relationnelles et d'organisation.",
                    lycee: "Post-obligatoire : Maturit√© gymnasiale OU CFC commerce + Maturit√© professionnelle.",
                    postbac: "Hautes √âcoles : Bachelor HES en √âconomie d'entreprise ou Universit√© en Gestion, puis Master/MBA.",
                    formations: "Formations compl√©mentaires : EMBA, formations continues HES, certifications en management"
                }
            },
            OTHER: {
                dev: {
                    college: "Formation initiale : Se familiariser avec les math√©matiques et la logique.",
                    lycee: "√âtudes secondaires : Suivre des cours de math√©matiques et sciences. Apprendre √† coder en autodidacte.",
                    postbac: "√âtudes sup√©rieures : Licence/Bachelor en Informatique (3-4 ans), puis Master optionnel.",
                    formations: "Formations compl√©mentaires : Bootcamps en ligne (freeCodeCamp, Codecademy), certifications tech, projets personnels"
                },
                data: {
                    college: "Formation initiale : D√©velopper les comp√©tences en math√©matiques.",
                    lycee: "√âtudes secondaires : Excellence en math√©matiques et statistiques.",
                    postbac: "√âtudes sup√©rieures : Licence en Math√©matiques/Statistiques/Informatique, puis Master en Data Science.",
                    formations: "Formations compl√©mentaires : MOOCs (Coursera, edX), certifications (Google, IBM), projets pratiques"
                },
                manager: {
                    college: "Formation initiale : D√©velopper le leadership et la communication.",
                    lycee: "√âtudes secondaires : Toutes fili√®res, privil√©gier l'√©conomie si disponible.",
                    postbac: "√âtudes sup√©rieures : Licence en Gestion/Administration/Commerce, puis Master/MBA.",
                    formations: "Formations compl√©mentaires : MBA, formations en ligne, certifications en gestion de projet"
                }
            }
        };

        // Quiz state
        let currentQuestionIndex = 0;
        let answers = [];
        let careerScores = {};
        let userCountry = null;

        // Initialize career scores
        Object.keys(careers).forEach(career => {
            careerScores[career] = 0;
        });

        // Country selection
        document.getElementById('countrySelect').addEventListener('change', function() {
            const countryBtn = document.getElementById('countryBtn');
            countryBtn.disabled = this.value === '';
        });

        function saveCountry() {
            const select = document.getElementById('countrySelect');
            userCountry = select.value;
            if (userCountry) {
                document.getElementById('countryModal').classList.add('hidden');
                localStorage.setItem('userCountry', userCountry);
            }
        }

        // Check if country is already saved
        window.addEventListener('load', function() {
            const savedCountry = localStorage.getItem('userCountry');
            if (savedCountry) {
                userCountry = savedCountry;
                document.getElementById('countryModal').classList.add('hidden');
            }
        });

        // Start quiz
        function startQuiz() {
            document.getElementById('welcomeScreen').classList.remove('active');
            document.getElementById('quizContainer').classList.add('active');
            showQuestion();
        }

        // Show current question
        function showQuestion() {
            const question = questions[currentQuestionIndex];
            
            document.getElementById('questionText').textContent = question.question;
            
            const choicesContainer = document.getElementById('choicesContainer');
            choicesContainer.innerHTML = '';
            
            // First choice
            const choiceCard1 = document.createElement('div');
            choiceCard1.className = 'choice-card';
            if (answers[currentQuestionIndex] === 0) {
                choiceCard1.classList.add('selected');
            }
            
            choiceCard1.innerHTML = `
                <div class="choice-content">
                    <span class="choice-icon">${question.choices[0].icon}</span>
                    <div class="choice-text">
                        <h3>${question.choices[0].title}</h3>
                    </div>
                </div>
            `;
            
            choiceCard1.onclick = () => selectChoice(0);
            choicesContainer.appendChild(choiceCard1);
            
            // Skip button between choices
            const skipDiv = document.createElement('div');
            skipDiv.className = 'skip-between';
            skipDiv.innerHTML = '<button class="btn-skip-inline" onclick="skipQuestion()">Passer</button>';
            choicesContainer.appendChild(skipDiv);
            
            // Second choice
            const choiceCard2 = document.createElement('div');
            choiceCard2.className = 'choice-card';
            if (answers[currentQuestionIndex] === 1) {
                choiceCard2.classList.add('selected');
            }
            
            choiceCard2.innerHTML = `
                <div class="choice-content">
                    <span class="choice-icon">${question.choices[1].icon}</span>
                    <div class="choice-text">
                        <h3>${question.choices[1].title}</h3>
                    </div>
                </div>
            `;
            
            choiceCard2.onclick = () => selectChoice(1);
            choicesContainer.appendChild(choiceCard2);
        }

        // Select a choice
        function selectChoice(index) {
            answers[currentQuestionIndex] = index;
            
            // Update UI immediately
            document.querySelectorAll('.choice-card').forEach((card, i) => {
                card.classList.toggle('selected', i === index);
            });
            
            // Update career scores
            const question = questions[currentQuestionIndex];
            const selectedChoice = question.choices[index];
            selectedChoice.careers.forEach(career => {
                careerScores[career]++;
            });
            
            // Wait a brief moment to show selection, then move to next question
            setTimeout(() => {
                nextQuestion();
            }, 300);
        }

        // Navigation functions
        function nextQuestion() {
            // Loop back to beginning if we reach the end
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
            } else {
                currentQuestionIndex = 0; // Recommencer au d√©but
            }
            showQuestion();
        }

        function skipQuestion() {
            // Same behavior - loop infinitely
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
            } else {
                currentQuestionIndex = 0;
            }
            showQuestion();
        }

        // Show results (called manually via button)
        function showResults() {
            // Don't hide the quiz container
            document.getElementById('resultsScreen').classList.add('active');
            
            // Sort careers by score
            const sortedCareers = Object.entries(careerScores)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 3);
            
            const resultsContainer = document.getElementById('resultsContainer');
            resultsContainer.innerHTML = '';
            
            sortedCareers.forEach(([careerKey, score], index) => {
                const career = careers[careerKey];
                const matchPercentage = Math.round((score / questions.length) * 100);
                
                const resultCard = document.createElement('div');
                resultCard.className = 'result-card';
                resultCard.innerHTML = `
                    <div class="result-header">
                        <div class="result-rank">${index + 1}</div>
                        <div class="result-title">
                            <h2>${career.title}</h2>
                            <p class="result-match">${matchPercentage}% de correspondance</p>
                        </div>
                    </div>
                    <p class="result-description">${career.description}</p>
                    <div class="result-tags">
                        ${career.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                    <div class="result-actions-buttons">
                        <button class="btn-result-action" onclick="showActivities('${careerKey}')">üìã Activit√©s</button>
                        <button class="btn-result-action" onclick="showPath('${careerKey}')">üéì Comment le devenir ?</button>
                    </div>
                `;
                
                resultsContainer.appendChild(resultCard);
            });

            // Add floating "See all activities" button
            const existingBtn = document.querySelector('.btn-activities');
            if (existingBtn) {
                existingBtn.remove();
            }
            
            const activitiesBtn = document.createElement('button');
            activitiesBtn.className = 'btn-activities';
            activitiesBtn.textContent = 'üìã Toutes les activit√©s';
            activitiesBtn.onclick = showAllActivities;
            document.body.appendChild(activitiesBtn);
        }

        function closeResults() {
            document.getElementById('resultsScreen').classList.remove('active');
            
            // Remove the floating activities button
            const floatingBtn = document.querySelector('.btn-activities');
            if (floatingBtn) {
                floatingBtn.remove();
            }
        }

        function showActivities(careerKey) {
            const career = careers[careerKey];
            const modal = document.getElementById('infoModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = `üìã ${career.title}`;
            
            let html = '<ul class="activities-list">';
            career.activities.forEach(activity => {
                html += `<li>${activity}</li>`;
            });
            html += '</ul>';
            
            modalBody.innerHTML = html;
            modal.classList.add('active');
        }

        function showPath(careerKey) {
            const career = careers[careerKey];
            const country = userCountry || 'OTHER';
            const path = educationalPaths[country]?.[careerKey] || educationalPaths['OTHER'][careerKey];
            
            if (!path) {
                alert(`Parcours non disponible pour ce m√©tier. Veuillez nous contacter pour plus d'informations.`);
                return;
            }
            
            const countryName = {
                'FR': 'üá´üá∑ France',
                'BE': 'üáßüá™ Belgique', 
                'CH': 'üá®üá≠ Suisse',
                'CA': 'üá®üá¶ Canada',
                'OTHER': 'üåê International'
            }[country] || 'votre pays';
            
            const modal = document.getElementById('infoModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = `üéì ${career.title}`;
            
            let html = `<p style="text-align: center; color: var(--soft-gray); margin-bottom: 2rem; font-size: 1.05rem;">Parcours pour ${countryName}</p>`;
            
            html += `
                <div class="path-section">
                    <h3>üìö Coll√®ge / Secondaire</h3>
                    <p>${path.college}</p>
                </div>
                <div class="path-section">
                    <h3>üéí Lyc√©e / Formation sup√©rieure</h3>
                    <p>${path.lycee}</p>
                </div>
                <div class="path-section">
                    <h3>üéì √âtudes sup√©rieures</h3>
                    <p>${path.postbac}</p>
                </div>
                <div class="path-section">
                    <h3>‚ú® Formations compl√©mentaires</h3>
                    <p>${path.formations}</p>
                </div>
            `;
            
            modalBody.innerHTML = html;
            modal.classList.add('active');
        }

        function showAllActivities() {
            // Get top 3 careers
            const sortedCareers = Object.entries(careerScores)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 3);
            
            const modal = document.getElementById('infoModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'üìã Toutes vos activit√©s correspondantes';
            
            let html = '';
            
            sortedCareers.forEach(([careerKey, score], index) => {
                const career = careers[careerKey];
                html += `<div class="all-activities-section">`;
                html += `<h3>${index + 1}. ${career.title}</h3>`;
                html += '<ul class="activities-list">';
                career.activities.forEach(activity => {
                    html += `<li>${activity}</li>`;
                });
                html += '</ul></div>';
            });
            
            modalBody.innerHTML = html;
            modal.classList.add('active');
        }

        function closeInfoModal() {
            document.getElementById('infoModal').classList.remove('active');
        }

        // Close modal on outside click
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('infoModal');
            if (event.target === modal) {
                closeInfoModal();
            }
        });

        // Restart quiz
        function restartQuiz() {
            currentQuestionIndex = 0;
            answers = [];
            Object.keys(careers).forEach(career => {
                careerScores[career] = 0;
            });
            
            // Remove floating button if exists
            const floatingBtn = document.querySelector('.btn-activities');
            if (floatingBtn) {
                floatingBtn.remove();
            }
            
            document.getElementById('resultsScreen').classList.remove('active');
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('quizContainer').classList.add('active');
            showQuestion();
        }
    </script>
</body>
</html>